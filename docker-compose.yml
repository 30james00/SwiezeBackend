version: "3.8"

services:
  
  dotnet:
    build: .
    ports:
      - "5000:80"
    environment:
      - ConnectionStrings:PostgreSQL=${POSTGRES}
      - TokenKey=${TOKEN}
      - Cloudinary:CloudName=${CLOUDINARY_CLOUDNAME}
      - Cloudinary:ApiKey=${CLOUDINARY_APIKEY}
      - Cloudinary:ApiSecret=${CLOUDINARY_APISECRET}
    networks:
      - backend
  
  postgres:
    image: postgres:latest
    volumes:
      - swiezePostgres:/var/lib/postgresql/data
    environment:
      - POSTGRES_PASSWORD=swiezeWarzywa
    ports:
      - 5432:5432
    networks:
      - backend

volumes:
  swiezePostgres:
    
networks:
  backend:
    driver: bridge
  
